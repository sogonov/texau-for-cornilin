name: Build and deploy latex sources to GitHub Pages
on: push
jobs:
  build:
    # Базовая ОС, на которой будут исполняться команды. Оставим ubuntu
    runs-on: ubuntu-latest
    steps:
    # Необходимо использовать этот action, чтобы получить содержимое репо
    - uses: actions/checkout@v2
    # Компилируем документ
    - name: Build document
      uses: xu-cheng/latex-action@v2
      with:
        # Переименуйте, если у вас другой файл
        root_file: base.tex
        # Больше параметров в офф. документации
        working_directory: vivado1/
        # Аргументы, к которыми запускать компилятор (latexmk)
        # -jobname=<name> дает возможность поменять имя выходного файла
        args: -jobname=my_doc -pdf -file-line-error -halt-on-error -interaction=nonstopmode
        compiler: latexmk
        latexmk_use_lualatex: true
- name: Upload pdf document
      uses: actions/upload-artifact@v2
      with: 
        name: my_doc
        # Путь до собранного pdf. Может содержать “*”, “**”
        # Здесь это <working_directory>/<jobname>.pdf
        path: latex_sources/my_doc.pdf
